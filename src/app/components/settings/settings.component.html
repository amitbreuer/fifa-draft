<div class="settings-container">
  <h1 class="main-title">⚽ FIFA Draft 🏆</h1>

  @if (hasSavedDrafts()) {
  <p-card header="Continue Draft" class="settings-card saved-drafts-card">
    <div class="settings-content">
      <div class="field">
        <p-select
          id="savedDraft"
          [options]="savedDrafts"
          [(ngModel)]="selectedSavedDraft"
          placeholder="Choose a saved draft"
          [style]="{'width': '100%'}"
        ></p-select>
      </div>

      <div class="actions">
        <p-button
          label="Continue"
          icon="pi pi-arrow-right"
          [disabled]="!selectedSavedDraft"
          (onClick)="continueDraft()"
          severity="primary"
          [raised]="true"
        ></p-button>
        <p-button
          label="Delete"
          icon="pi pi-trash"
          [disabled]="!selectedSavedDraft"
          (onClick)="deleteSavedDraft()"
          severity="danger"
          [outlined]="true"
        ></p-button>
      </div>
    </div>
  </p-card>
  }

  <p-card header="Draft Settings" class="settings-card">
    <div class="settings-content">
      <div class="field">
        <input
          id="draftName"
          type="text"
          pInputText
          [(ngModel)]="draftName"
          placeholder="Enter draft name"
        />
      </div>

      <p-divider></p-divider>

      <div class="field">
        <label for="numManagers">Number of Managers</label>
        <p-selectButton
          id="numManagers"
          [options]="managerOptions"
          [(ngModel)]="numManagers"
          (onChange)="updateManagerNames()"
          optionLabel="label"
          optionValue="value"
        ></p-selectButton>
      </div>

      <p-divider></p-divider>

      <div class="managers-section">
        <h3>Managers Names</h3>
        <div class="manager-inputs">
          @for (manager of managerNames; track $index; let i = $index) {
          <div class="field">
            <input
              [id]="'manager' + i"
              type="text"
              pInputText
              [(ngModel)]="managerNames[i]"
              [placeholder]="'Enter manager name'"
            />
          </div>
          }
        </div>
      </div>

      <p-divider></p-divider>

      <div class="actions">
        <p-button
          label="Start Draft"
          icon="pi pi-play"
          [disabled]="!canStartDraft()"
          (onClick)="startDraft()"
          severity="success"
          [raised]="true"
        ></p-button>
      </div>
    </div>
  </p-card>
</div>
